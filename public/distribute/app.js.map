{"version":3,"file":"app.js","mappings":"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","sources":["webpack://foregor/./public/index.ts","webpack://foregor/./public/src/AppConnect.ts","webpack://foregor/./public/src/ResultHolder.ts/ResultHolder.ts","webpack://foregor/./public/src/concreteCommands/BaseCommand.ts","webpack://foregor/./public/src/concreteCommands/GetAllProdsByPathName.ts","webpack://foregor/./public/src/concreteCommands/GetAllProductFolder.ts","webpack://foregor/./public/src/dom.ts","webpack://foregor/./public/src/invoke/Invoker.ts","webpack://foregor/./public/src/page/TableProducts.ts","webpack://foregor/./public/src/types/EnumPageName.ts","webpack://foregor/webpack/bootstrap","webpack://foregor/webpack/before-startup","webpack://foregor/webpack/startup","webpack://foregor/webpack/after-startup"],"sourcesContent":["\r\nimport { dom } from \"./src/dom\"; \r\nimport { invoker } from \"./src/invoke/Invoker\";\r\nimport { TableProducts } from \"./src/page/TableProducts\";\r\nimport { EnumPageName } from \"./src/types/EnumPageName\";\r\n \r\n\r\nconst idContainerCats = 'div-categories';\r\nconst cntAllprd = document.getElementById('li-menu-allprod');\r\nconst cntOprihod = document.getElementById('li-menu-oprihod');\r\n\r\nif (cntOprihod && cntAllprd)\r\n    for (let v of [cntOprihod, cntAllprd]) {\r\n        v.addEventListener('click', async (e) => {\r\n            const target = e.target as HTMLAnchorElement;\r\n            switch (target.name) {\r\n                case EnumPageName.OPRIHOD: {\r\n                    \r\n                    break;\r\n                }\r\n                case EnumPageName.ALLPROD: {\r\n                    \r\n                    const table = new TableProducts('table-container');\r\n                    if (!table || (!table.cnt)) break;\r\n                    await dom.createListCats(idContainerCats, table, invoker); \r\n\r\n                }\r\n            } \r\n        });\r\n    }\r\n\r\n\r\n\r\n \r\n","\r\n\r\nconst DEVHOST = '/';\r\nconst HOST = DEVHOST;\r\n\r\nexport class AppConnect {\r\n\r\n    host = '/';\r\n    constructor(host: string) {\r\n        this.host = host;\r\n    }\r\n\r\n    async getProdFolders(url: string) {\r\n        const resp = await fetch(this.host + url, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json;charset=utf-8' \r\n            },\r\n            body: JSON.stringify({})\r\n        });\r\n        return await resp.json();\r\n    }\r\n\r\n    async getProductByCats(url: string, uri: string) {\r\n        const requestData = {URISklad: uri};\r\n        const resp = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(requestData)\r\n        });\r\n        const result = await resp.json();\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\nexport const appcn = new AppConnect(HOST);","import { ClientData } from \"../page/TableProducts\";\r\nimport { HolderData } from \"../types/HolderData\";\r\n\r\n\r\n\r\nexport class Holder<T> {\r\n    private hold: T[]  = [];\r\n    \r\n    constructor(public name: string, data: T[]) {\r\n        this.data = data;\r\n    }\r\n\r\n    set data(d: T[]) {\r\n        if (Array.isArray(d)) {\r\n            this.hold.length = 0;\r\n            this.hold = [...d]\r\n        }\r\n    }\r\n\r\n    get data(): HolderData<T> {\r\n        if (this.hold) {\r\n            return {name: this.name, arrData: this.hold}\r\n        }\r\n        return {name: '', arrData: []};\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport class ResultHolder {\r\n\r\n    constructor(public client: ClientData) {}\r\n\r\n    async execute<T>(holder: Holder<T>) {\r\n        if (this.client) {\r\n            await this.client.executeCallback<T>(holder);\r\n        }\r\n    }\r\n\r\n}","import { AppConnect } from \"../AppConnect\";\r\nimport { Command } from \"../types/Command\";\r\n\r\n\r\nexport abstract class BaseCommand implements Command{\r\n    protected respExecute: any = null;\r\n\r\n    constructor (protected reciever: AppConnect) {}\r\n\r\n    abstract execute<T>(...args: any[]): Promise<T[]>;\r\n\r\n    getResponse() {\r\n        const returnResponse = this.respExecute;\r\n        return returnResponse;\r\n    }\r\n}","import { AppConnect } from \"../AppConnect\";\r\nimport { BaseCommand } from \"./BaseCommand\";\r\n\r\n\r\n/**\r\n * Команда. Получить список продукции по URI pathName \r\n * МойСклад/Продукция Плиточка\r\n */\r\nexport class GetAllProdsByPathName extends BaseCommand {\r\n    \r\n    constructor(reciever: AppConnect) {\r\n        super(reciever)\r\n    }\r\n    \r\n\r\n    async execute<T>(url: string, uri: string): Promise<T[]> {\r\n        this.respExecute = await this.reciever.getProductByCats(url, uri) as T[];\r\n        return this.getResponse();\r\n    }\r\n\r\n}","import { AppConnect } from \"../AppConnect\";\r\nimport { BaseCommand } from \"./BaseCommand\";\r\n\r\n\r\n/**\r\n * Команда получения списка разделов (категорий)\r\n * МойСклад/Продукция Плиточка\r\n */\r\nexport class GetAllProductFolder extends BaseCommand {\r\n\r\n    constructor(reciever: AppConnect) {\r\n        super(reciever);\r\n    }\r\n    \r\n\r\n    async execute<T>(uri: string): Promise<T> {\r\n        return await this.reciever.getProdFolders(uri);\r\n    }\r\n}","import { GetAllProdsByPathName } from './concreteCommands/GetAllProdsByPathName';\r\nimport { Invoker} from './invoke/Invoker';\r\nimport { appcn } from './AppConnect';\r\nimport { MinimizeResponseListProds } from './types/TypesFrontend';\r\nimport { GetAllProductFolder } from './concreteCommands/GetAllProductFolder';\r\nimport { Holder, ResultHolder } from './ResultHolder.ts/ResultHolder';\r\nimport { ClientData} from './page/TableProducts';\r\n\r\nexport const dom = (() => {\r\n\r\n    /**\r\n     * Получить от сервера список раздеров МойСклад->Продукция Плиточка,\r\n     * Создать список li a разделов, назначить колбеки получения результата,\r\n     * результат отдать объекту ResultHolder\r\n     * @param idcontainer id <div> контейнера в котором создадутся списки\r\n     * @param invoker отправитель команд\r\n     */\r\n    async function createListCats(idcontainer: string, table: ClientData, invoker: Invoker) {\r\n        const url = '/getProductByCats'; \r\n        const cnt = document.getElementById(idcontainer);\r\n        invoker.setGetProdByCats(new GetAllProdsByPathName(appcn));\r\n        invoker.setAllProductsFolder(new GetAllProductFolder(appcn));\r\n        const arrCats: string[] = await invoker.getAllProdFolder('allProdFolder');\r\n        const resultHolder = new ResultHolder(table);\r\n        arrCats.forEach((el) => {\r\n            const a = document.createElement('A') as HTMLAnchorElement;\r\n            a.classList.add('list-group-item', 'list-group-item-action', 'list-group-item-success');\r\n            a.href = url;\r\n            a.textContent = el;\r\n            a.addEventListener('click', async (e) => {\r\n            if ((<HTMLElement> e.target).nodeName === 'A') {\r\n                e.preventDefault();\r\n                const uri = (<HTMLElement> e.target).textContent as string;\r\n                const result = await invoker.сallbackGetProdByCats<MinimizeResponseListProds>(url, uri) as MinimizeResponseListProds[];\r\n                // debugger;\r\n                const holder = new Holder<MinimizeResponseListProds>(uri, result);\r\n                await resultHolder.execute<MinimizeResponseListProds>(holder);\r\n            }\r\n            });\r\n            cnt!.appendChild(a);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Создать и вернуть контейнерный Html элемент\r\n     * @param id \r\n     * @returns \r\n     */\r\n    function createContainer(id: string): HTMLElement | null {\r\n        const cnt = document.getElementById(id);\r\n        return (cnt) ? cnt : null;\r\n    }\r\n\r\n\r\n    /**\r\n     * Создать и вернуть таблицу данных\r\n     * @param arrData массив с данными\r\n     * @returns \r\n     */\r\n    async function makeTable<T>(arrData: T[]): Promise<HTMLTableElement> {\r\n        const table = document.createElement('table');\r\n        table.classList.add('table', 'table-striped', 'table-sm', 'custom-style-table');\r\n        // ---------- шея -----------------------------------\r\n        const thead = document.createElement('thead');\r\n        thead.classList.add('thead-light');\r\n        const tr = document.createElement('tr');\r\n        const titleTable = ['№', 'название', 'цвет', 'артикль', 'код', 'категория',];\r\n        titleTable.forEach((v) => {\r\n            const th = document.createElement('th');\r\n            th.textContent = v;\r\n            tr.appendChild(th)\r\n        });\r\n        thead.appendChild(tr);\r\n        table.appendChild(thead);\r\n        // ---------- тело ----------------------------------\r\n        const tbody = document.createElement('tbody');\r\n        arrData.forEach((val, i) => {\r\n            const data = val as MinimizeResponseListProds;\r\n            const tr = document.createElement('tr');\r\n            for (let cellName of [''+(i+1), data.name || '', data.color || '', data.article || '', \r\n                            data.code || '', data.pathName || '']) {\r\n                                const td = document.createElement('td');\r\n                                td.textContent = cellName;\r\n                                tr.appendChild(td);\r\n                            }\r\n            tbody.appendChild(tr);\r\n        });\r\n        table.appendChild(tbody);\r\n        return table;\r\n    }\r\n\r\n    const publicApi = { createListCats, createContainer, makeTable };\r\n    return publicApi;\r\n})();\r\n","import { BaseCommand } from \"../concreteCommands/BaseCommand\";\r\nimport { MinimizeResponseListProds } from \"../types/TypesFrontend\";\r\n\r\n\r\n/**\r\n * Отправитель команд. Содержит команды приложения.\r\n */\r\nexport class Invoker {\r\n    private allProductsFolder: BaseCommand | null = null;   // категории (разделы) продукций МойСклад\r\n    private productByCats: BaseCommand | null = null;       // список товаров определенной категории (раздела МойСклад)\r\n\r\n\r\n    /**\r\n     * -----------------------------------------------------------------------\r\n     * @param command Установить команду получения всех товаров\r\n     * из моего склада по определенному URI\r\n     */\r\n    setGetProdByCats(command: BaseCommand) {\r\n        this.productByCats = command;\r\n    }\r\n\r\n    async сallbackGetProdByCats<T extends MinimizeResponseListProds>(url: string, uri: string): Promise<T[]> {\r\n        const result = (this.productByCats) ? await this.productByCats.execute<T>(url, uri) : null;\r\n        return (result) ? result : [];\r\n    }\r\n    \r\n\r\n    /**\r\n     * ----------------------------------------------------------------------\r\n     * @param command Установить команду получения\r\n     * всех категорий (разделов) продукции МойСклад\r\n     */\r\n    setAllProductsFolder(command: BaseCommand): void {\r\n        this.allProductsFolder = command;\r\n    }\r\n\r\n    async getAllProdFolder(uri: string): Promise<string[]>{\r\n        return (this.allProductsFolder) ? await this.allProductsFolder.execute(uri) : [];\r\n    }\r\n}\r\n\r\nexport const invoker = new Invoker();","import { Holder } from \"../ResultHolder.ts/ResultHolder\";\r\nimport { dom } from \"../dom\";\r\nimport { Clearable } from \"../types/Clearable\";\r\n// import { MinimizeResponseListProds } from \"../types/TypesFrontend\";\r\n\r\n\r\nexport abstract class ClientData {\r\n    cnt: HTMLElement | null = null;  // динамический div контейнер для таблицы \r\n\r\n    abstract executeCallback<T>(holder: Holder<T>): Promise<void>;\r\n\r\n    fillContainer(obj: HTMLElement): void {\r\n        if (this.cnt) \r\n            this.cnt.appendChild(obj);\r\n    }\r\n\r\n    clearContainer(): void {\r\n        if (this.cnt)\r\n            for (let domElem of Array.from(this.cnt.children)) {\r\n                this.cnt.removeChild(domElem);\r\n            }\r\n    }\r\n}\r\n\r\n/**\r\n * Порядок: экзмпл ClientData управляет своим содержимым.\r\n * у него есть объект-контейнер html и колбек-метод.\r\n * Сначала где-то получаю данные из сервера вызовом команды Command, данные превращаю в\r\n * объект Holder<T>, потом его отдаю на выполнение ResultHolder.execute(holder),\r\n * последний в  свою очередь вызывает метод executeCallback<T>(holder: Holder<T>)\r\n * у ClientData\r\n */\r\n\r\nexport class TableProducts extends ClientData implements Clearable {\r\n    \r\n    constructor (id: string) {\r\n        super();\r\n        const c = dom.createContainer(id);\r\n        this.cnt = (c) ? c : null;\r\n    }\r\n\r\n    /**\r\n     * Callback. Создать таблицу. \r\n     * @param holder результат из мойсклад\r\n     */\r\n    async executeCallback<T>(holder: Holder<T>) {\r\n        const arrdata = holder.data.arrData;\r\n        const tbl = await dom.makeTable<T>(arrdata);\r\n        this.clearContainer();\r\n        this.fillContainer(tbl);\r\n        const who = document.getElementById('id-label-table-list-from');\r\n        who!.textContent = holder.name + ` [всего: ${arrdata.length}]`;\r\n    }\r\n}","\r\n/**\r\n * Имена name: <a name='xxx' href=\"...\" > \r\n * ссылок меню навигации (страниц)\r\n */\r\nexport enum EnumPageName {OPRIHOD='OPRIHOD', ALLPROD='ALL_PROD'};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./public/index.ts\");\n",""],"names":[],"sourceRoot":""}